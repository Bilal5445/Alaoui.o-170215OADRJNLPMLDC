SQL Server Management Studio
USE master; CREATE DATABASE ScrapyWeb
execute 171129_script_create_db_with_data.sql
VS > Tools > NuGet Package Manager > Package Manager Console : Default project : ScrapyWeb
Update-Database -StartUpProjectName ScrapyWeb

---

VS > Tools > NuGet Package Manager > Package Manager Console : Default project : ScrapyWeb
Add-Migration newCommentsWaiting
Update-Database -StartUpProjectName ScrapyWeb

---

VS > Tools > NuGet Package Manager > Package Manager Console : Default project : ScrapyWeb
Add-Migration commentFeedId
Update-Database -StartUpProjectName ScrapyWeb

---

VS > Tools > NuGet Package Manager > Package Manager Console : Default project : ScrapyWeb
Add-Migration autoFBPostComment
Update-Database -StartUpProjectName ScrapyWeb

---

VS > Tools > NuGet Package Manager > Package Manager Console : Default project : ScrapyWeb
Add-Migration targetEntities
Update-Database -StartUpProjectName ScrapyWeb

---

VS > Tools > NuGet Package Manager > Package Manager Console : Default project : ScrapyWeb
Add-Migration mailFBPosts
Update-Database -StartUpProjectName ScrapyWeb

---

VS > Tools > NuGet Package Manager > Package Manager Console : Default project : ScrapyWeb
Add-Migration entryDate
Update-Database -StartUpProjectName ScrapyWeb

---

VS > Tools > NuGet Package Manager > Package Manager Console : Default project : ScrapyWeb
Add-Migration sharedFBPosts
Update-Database -StartUpProjectName ScrapyWeb

---

VS > Tools > NuGet Package Manager > Package Manager Console : Default project : ScrapyWeb
Add-Migration pageCategory
Update-Database -StartUpProjectName ScrapyWeb

---

VS > Tools > NuGet Package Manager > Package Manager Console : Default project : ScrapyWeb
Add-Migration commentsLikesCommentsCount
Update-Database -StartUpProjectName ScrapyWeb

---

VS > Tools > NuGet Package Manager > Package Manager Console : Default project : ScrapyWeb
Add-Migration commentsParent
Update-Database -StartUpProjectName ScrapyWeb

UPDATE FBFeedComments SET message = LEFT(message, 4000)
UPDATE FBFeedComments SET translated_message = LEFT(translated_message, 4000)
VS > Tools > NuGet Package Manager > Package Manager Console : Default project : ScrapyWeb
Add-Migration commentsMsgsSize
Update-Database -StartUpProjectName ScrapyWeb
=>ERR => Cannot alter or drop column 'message' because it is enabled for Full-Text Search.
=> delete full text index (and reconstruct it after)

---

UPDATE FBFeedComments SET message = LEFT(message, 1700)
UPDATE FBFeedComments SET translated_message = LEFT(translated_message, 1700)
VS > Tools > NuGet Package Manager > Package Manager Console : Default project : ScrapyWeb
Add-Migration commentsMsgsSize1700
// Update-Database -StartUpProjectName ScrapyWeb
// update-database -script -StartUpProjectName ScrapyWeb
update-database -TargetMigration 201806011619205_commentsMsgsSize1700 -script
=> ALTER TABLE [dbo].[FBFeedComments] ALTER COLUMN [message] [nvarchar](1700) NULL
ALTER TABLE [dbo].[FBFeedComments] ALTER COLUMN [translated_message] [nvarchar](1700) NULL
INSERT [dbo].[__MigrationHistory]([MigrationId], [ContextKey], [Model], [ProductVersion])
VALUES (N'201806011619205_commentsMsgsSize1700', N'ScrapyWeb.Migrations.Configuration',  0x1F8B0800000000000400ED5D596FE338127E5F60FF83E1A75DA0274AD218EC6CC39941E26ECF06930B6D67E6D1A025DA115A22B51295C4BF6D1FF627ED5F5852272F1DD4611B8D41BFC43CBE228B55C52259A5FEDF7FFE3BFBE5DDF726AF308C5C8CAEA61767E7D3094436765CB4BB9AC664FBC34FD35F7EFEEB5F665F1CFF7DF27BDEEE236B477BA2E86AFA4248F0C9B222FB05FA203AF35D3BC411DE92331BFB1670B075797EFE4FEBE2C28214624AB12693D9D71811D787C90FFA738E910D031203EF1E3BD08BB2725AB34C50270FC08751006C78355DDA2108F67FC0CD59DA763AB9F65C40C7B184DE763A01086102081DE5A7E7082E4988D16E19D002E0ADF601A4EDB6C08B6036FA4F65F3B61339BF6413B1CA8E39941D4704FB8680171F33CE5872F74EFC9D169CA3BCFB42794CF66CD609FFAEA60BCAC00DC6DF7E0D711C2C2074A61399EAA7B917B21E2A9FCF94DE1F26459B0F8568500962FF3E4CE6B147E2105E21189310781F264FF1C673EDDFE07E85BF41748562CFE3874B074CEB84025AF414E2008664FF156EB34924E49F70446EE9F02D11C092118AFEBACED93C4948657D3AB907EF7710EDC80BD582CB9FA69385FB0E9DBC24939967E452D5A09D4818D39F0F740A60E3C1A2DEAA25CEE8AEE03BA9A14CFF6C45B99ED073E000029D15D5B09CD6675A90FE361C3415A270CF7AAB487CC799554A5BBD0CDE5C070195834CC64DE48FEF791CD9E306D045FAA4EEE93C6F11F978A959168E274B8243F82B443064CBFA04088121352FB70E4CB8DBB4841C595630BAF82D369462AD820D486709ED100EAD5206D2CC0CE11CFB3E5D0A4369E67A1E479ABB88F031EC26DDFA23B0AB93DB8B7F9C9F0F205094BB28F2988EAD0F46934A6F42900C61ACB754A40EA0782DF704B5A3E77E83D1DAC631224DE6AF816BA9DE0C8215809042D50BF68FE64B6D604312AFC4D07A247D8EE88175F6BE0EB9F32D3612C9D15422A133C2EEDA5A8A56EBC5CDFAF66171F7FCE561FEE5AB9134497D8F2355AE2250DA66DB6F6B420F42EA82344A9F7B84ADAB1CEDA129A343787A71E8AD0F422808F11A876B40A57E745A5B8086D856D8116CED8188ACE3E438D67B73BF8E09FE0AE9ACE12B5CDCB0C3E435CA1DC82847BFC1D883001983AF40B88324B12A2E8C46E7313D8DC01D0EF747B5964F8FCB95B99D64BD4EC5429EACD173D1D68B21B26138BE69A08AB02687B856E18E0707A17792DE72F442DD6587317D10B8C44A064C3FA297848B3D8D24826FB949FC03505B564276B58CF7C0F56EB033B4A952093DE0C72D9B3323B884487693EB3BDFD18D26EFF8884CCF65435FF2ADDE20244B68762392773A8E714DA8AFBB9C6ACA9E8736B409E583DC283379F88CDF908781D35B4759C7797AED612AA8FF02D1CB0AECC67750EED90113A3F1093D47303CC0F994AA148407BAFEC59E87DFA8DECE35DB434357EADC22877534EDF9E4011B1E647A09A503ACD81D2077B8DCBE46A4837671FD55E7B8AEF89BCB6E75BABE0AA9DDFF7C1A3ADDA7A13935A9B10F43CA8E83D11AE58548C34ADB86519408D121691DE1FD8B329600978A5CB9B7A4EA565E1F280A4CB7B94C87A38CA038C114997A7F55A10A14B41C531AECA14624287C5360F937642DA4F83CDD08C73DE2E9E184F7C146B864267AA0EC91A00142B906569094166D10D3AB123D565AD7849239F7BAB995A7854610D9D6EBE1D40D4527DC851897D146561A6E94872559157149B37B100454CFB838A5AC64B24C8394E63F2CCDE377FC14C3B2234D184F31DA8212B5FC74DB966A99D973E0C20D23427D6AB0014CD3E78EAF345395B682F739BD4ABD94F7C67241F2AEEC6FC954540615C970256F1774BA4C8D9299C3627CBAB02605238924031E08EBE281E6D88B7DD4186554875786F8F06065697B2421868707132ADAE371477C1E8D2B56B16696C47A79A92D65AD25B74796A27632261AE97EF225D8F30EB255DFBF8ADB923BC773BCD6516C8999FA6A15A869657BDC225C87C72B0A0D71727744C1CA2B4E48CA84BDBBA794F1DB7C1729ABED5FC57179D1CCD6AB0871E1218AC2F638BAA8191E5257DF1E5D8C8FE171C59AF68879900C8F95978D6B4FABB0848B7E1E4DA830E09974DF2F704DAA6B8F5AC6C9F07865E9096976E646F7D4E9D4E3EEA2CD153D6BBD10AD07626A81B5485C717B2C2EA0451955D50E73A4F5964F34BD96BD01ACC5F2372254B1DC95D64D171153DDBB0C35110C5B45B84C1D1252561D19BA14655C088F52961A181D3EF043B03B7C850197CAE00E814D65717B2C35C28387546B0D5CBDFA500FC1F1AB6FDA9EA61C01C21391EB0CB6A222D043D8848AD2D33222C955467FF3A183696B38F47D4733197CA0866437F82A03852DC33104752D8B3B79962AA252F9BDF95B9A480B1E58536D68BAF8B00BC572F195065B8726FC42D84834F5EDD1CB500C1EB32C6D8FA4C65AF0886A6D7B64391083C795EBBECBDB9BF2A6B79F21CD2F853BD8D1CAAE957B5F11C221EC7A1521218D48EA0D2057DC1E4B0CBAE0E1C41A33C422F242062C2ADAE395E1183C58596AA0DA45BC85A0DA45A9C1C569165021DC996665ED51F878091E892F373898492111C2E94CAA334015A3250450B1CAE002BB8CA3106EB0CB62432C79298A4213939A454288B6342B34C1C9231D44A0BCF4844CA8FACED5D3982A4F625DCC6A33C8F7701F2EC428F0984285399EEE6A5CAE33983D1F6E20CC9CAFE884A71BA8A6FAC0EAA23CDBCA4D0AEAC5F3ADF44C3BCB9E4C9BBF31A1BCA1A64DA613CAB457D749DE4FF71181FE196B70B6FCB737F7DCE4853F6F700F90BB851149838AA697E71797D2872A4EE7A3115614399EE6C9B9F6CB11E2C21DE5CB0DE81584363D05A9A1B63D3FCC9003FFCD07EF7FE7D13A7E7C811590413EBEA043EA957A5A69CD8F17F5E6323D6A8C6B334D9ED207BAF55A69E93B07FDB1C4582E03BC8EDF2BE8B0E0FDBE193098C64AE9F97ADC2441DF6C19AABF003018095DC27F67032126FCF792C08EB64605D2A42D252A3D48D252172439C15FBB923F362CA4713A7FD70D7280C4FA512CA8924BDF4BDA947CF931AC5DED4BDCC965A50F661CE5A4F3C180D1503BA79C37DE0B2C5073C37BE129F9DF5D6C4E55F677674BDF2AFB7BE39A8F549FF9DD8B837276F768BAAD3E961D22937A48455513A5FBE9829C0CDD0BAD22E1B917E6C979079509CD9DD55E4D67EEACF5D5E9CC5D545D4E65EEB59055E9CA12DBDAA5A0E99297BBFA9F631F9AF5CF4B87CE321ECC082949C4BDA4429728DC59FA3589C25D85424E1CEE35493939B8DF7D919000DC0B4A4DF2ED7727A14DE4EDA0DFDAB4DE0E384A926FAFE94989BCBDB0A464DD9E586242EE28DE53C35BCE9FB77FADD34BB954D641F03A5F026AA6ADA6A40E8537D255A59C5AAA26B3553CA056BE53B4CA1A4D9F77E8EEB2C1744AE9D07B269736E7966A894AF9A98D1485F4520D45A15E4F514C616DA498E5A16A6865357A2A79666B037E87FC551DBD91925C2B4919E5C0D6A6C06A49744F906D991FABA7AAC9B6D5A9728B445AF5E57566F1FF07C0EC338CDC5D09C1FE4700046D46B404CDDBDCA22DCE2D139D3B3FA2BC89E2B011403D47701D12770B6C42AB99254B8E53BF037A00A7A7067F039D5BF418932026D75104FD8D273CF3CFAC7AFA49B6B038E6D96390B06D8829D061BACCF97D4437B1EB39C5B817EAFE5705C18C69B6A9D2512D09DB5C77FB02E901A3964019FB3EC380BA75D46CACA01FB06B82E8112DC12BEC3236EA05DFC11DB0F7F9037A3548F342886C9F7D76C12E047E946194FDE94F2AC38EFFFEF3FF0181ACD7CB0A630000 , N'6.1.3-40302')
=> use only update to __MigrationHistory

---

UPDATE FBFeedComments SET message = LEFT(message, 849) WHERE LEN(message) > 849
UPDATE FBFeedComments SET translated_message = LEFT(translated_message, 849) WHERE LEN(message) > 849
VS > Tools > NuGet Package Manager > Package Manager Console : Default project : ScrapyWeb
Add-Migration commentsMsgsSize849
// Update-Database -StartUpProjectName ScrapyWeb
update-database -TargetMigration 201806071821182_commentsMsgsSize849 -script
=> ALTER TABLE [dbo].[FBFeedComments] ALTER COLUMN [message] [nvarchar](849) NULL
ALTER TABLE [dbo].[FBFeedComments] ALTER COLUMN [translated_message] [nvarchar](849) NULL
INSERT [dbo].[__MigrationHistory]([MigrationId], [ContextKey], [Model], [ProductVersion])
VALUES (N'201806071821182_commentsMsgsSize849', N'ScrapyWeb.Migrations.Configuration',  0x1F8B0800000000000400ED5D596FE338127E5F60FF83E1A759A03B4AD2BB404FC3E941E2B46782C985B633FD68D012ED082D911A894AE2DFB60FFB93F62F0C75F3D2415D361A837E89797C4516AB8A45B24AFDFFFFFE6FF6CB9BEB4C5EA01FD8185D4CCF4E4EA713884C6CD96877310DC9F6FDC7E92F9FFFF98FD917CB7D9BFC91B5FB10B5A33D5170317D26C4FB641881F90C5D109CB8B6E9E3006FC989895D0358D8383F3DFDD9383B3320859852ACC964F63544C47661FC83FE9C6364428F84C0B9C3167482B49CD62C63D4C93D7061E001135E4C97A60FBCFD37B83949DA4E27978E0DE83896D0D94E2700214C00A1A3FCF414C025F131DA2D3D5A009CD5DE83B4DD1638014C47FFA968DE7422A7E7D1448CA26306658601C1AE26E0D987943386D8BD157FA739E728EFBE501E937D34EB987F17D30565E006E3EFBFFA38F416105AD38948F5D3DCF1A31E329F4FA4DEEF26799B77B96850098AFEBD9BCC4387843EBC4030243E70DE4D1EC38D639BBFC3FD0A7F87E802858EC30E970E98D67105B4E8D1C71EF4C9FE2BDCA69388C93FE280DCD0E11B3C802122E4FD559DD379129FCAFA747207DE6E21DA9167AA05E71FA79385FD06ADAC249599276453D5A09D881FD29FF7740A60E3C0BCDEA8241ED15DC137524199FED9887235A127CF02045A2BAA6119AD6B5A90FCD61C3415227F1FF59691D88E33A390B66A19BCBAF43C2A07A98CEBC81FDBF330B2C70CA08DF409DD9379DE20F2E15CB12C0C4F9604FBF05788A01F2DEB232004FAD4BCDC5830E66EDD123264A382C1C56FB1A1142B15AC473A4B68FAB06F95D290E6C810CEB1EBD2A5D09466A6E761A4B98D081FC26ED2AD3F00BB2AB9FDF8EF9F7B9027CA5C1438918AADC722496537A647FA30D55B2A5023A85DC31D41EEE8D8DF61B0367188489DF1ABE15AA235BD6079C0A750D562FD9FD3212D48EC9368DA8EB8CF01FDAFD6BED798FBDE6223901C4C25623A03ECAD8DA568B55E5CAD6FEE17B74F5FEEE75FBE6A4993D0F73052654B02A56CB6FDBE26F418242F48ADF4D907D8B88AD18E4D198DE1E785BEB31E8590E7E335F6D7804AFDE0B4B600F5B1AD4407B0B50302B20EE3C358E7CDFD3224F82BA4B3862F7071151D252F51E63E0619FA15C60E04481B7C05FC1D24B155B16130388FE95904EEB0BF3FA8B57C7C58AEF4ED64D4EB582CE4D11A3D1B6D9D102213FAC39B06AA086B32C6A50A733A1885DE517ACBC1337597AD88E9BDC0C556D28BF423788EB9D8D14822F89A99C46F80DAB202B2AD65BC03B67385ADBE4D954CE81E3F6CA33947049710896E7275E75BBAD1641D1F90EEB9ACEF2BBED52B846409F5EE43B24E8731AE31F5759B534DD1736C431B531EE53E3992876BFC8A1C0CACCE3A1A759C27D71EBA82FA1B089E576037BC8372171D30311A9ED05300FD11CEA754A5201CE9F2173B0E7EA57A3B576C0F355DA9738BACA8A36ECF4707987094E9C5944658B15B406E71B17D0D4807EDC2EA9BCE615DF1573BBAD569FB262477FFFB61E8781F86E6D4A4862EF4293B46A335C8FB908295A609832016A231691DE0F58B3296009B8A5CB1B724EA565C1F480A4CB7B954878394203FC104997A7F65810A14B4185312EA21C723487C9360D917642524FF385D0BC73CE1A9E1B8D7C15AB878266AA0F491A00642BA069690A4164D1093AB123556525787923AF7AAB915A7855A10D1D6ABE1E40D4525DCB91817B14646126C94052519255149B33BE07954CF9828A5B464B24C4294E6EF97FAD13B6E826198812288271F6D4E895A7EBA6D0BB591D9B3E0C2F603427D6AB00191A6CF2D576A262B6D09EF337AA57A29EE8DC582645DA3BF0553511A5224C215BC5DD0E9466A14CF1CE6E35305354918711C1970805F150D34C74EE8A2DA18A32ABC22C087052B4A9B2371113C2C1857D11C8F39E2B3684CB18C353304D68B4B6D486B2DB83DA214359331DE4877932FCE9EB790ADEAFE65DC16DC3996E3958E6243CCC4572B414D2A9BE3E6C13A2C5E5EA88993B923125656714452C6EDDD1DA58CDDE6DB485965FF328E8B8BA6B75E79840B0B911736C75105CDB090AAFAE6E87C7C0C8BCBD73447CC826458ACAC6C587B5A86C55DF4B3685C8506CF84FB7E8E6B425D73D4224E86C52B4A8F48B35337BAA34E271E771B6D2EE959E985283D105D0BAC44628A9B6331012DD2A8CA769803ADB778A2E9B4EC35600D96BF16A18CE5B6B06EAA8898F2DE45A80967D84AC265AA9090B4EA48D3A528E2425894A254C3E8B0811F9CDD612B34B8540477706C2A8A9B63C9111E2CA45CABE1EA55877A708E5F75D3E634C50810968858A7B115E5811EDC2694971E971189AF32BA9B0F154C53C3A1EE3B98C960033504BBC15669286C118EC1A96B51DCCAB39411A5CA1FCDDF52445AB0C08A6A4DD3C5865D48968BADD4D83A14E117DC46A2A86F8E5E8462B0984569732439D68245946B9B238B81182CAE58F743DEDE1437BDDD0C697629DCC28E96762DDDFBF2100E6ED72B0909A945926F0099E2E6587CD0050BC7D7E821E6911722605ED11CAF08C760C18A520DD5CEE32D38D5CE4B352E4ED3800AEECE342D6B8EC2C64BB0486CB9C6C14C0889E04E67429D062A1F2DC181F2551A17D8451C0577835D146B62894B9117EA98D4341282B7A569A10E4E16E9C00365A5476442E577AE8EC6547A126B6356EB417E84FB702E4681C5E42AF4F15457E3629DC6ECD970036EE66C452B3CD54015D523AB8BF46C2B36C9A9E7CFB7C233ED2C7D32ADFFC284F4869A34994E28D35E6C2B7E3FDD0704BA27518393E59FCEDCB1E317FEACC11D40F6160624092A9A9E9F9E9D0B9FA9389E4F46184160398A27E7CAEF46F00B7790EF36A017E09BF4142487DA76FC2C4306FC930BDEFEC5A2B5FCF44254407AF9F4820AA953EA69A9353F5CD49B1DE9516D5C9B6EF2943AD0ADD34A0B5F39E88EC5C77269E0B5FC5A418B05EFF6C580DE3456C8CE57E2C6F9F97AAB509EFFDF170555BA7F6BF3C0A7FB7792BF9696460652242DC50ADD4BCA521B2431BD5F2982517E7F4F0AA678FB1B37AD7E10FB2965D2779236295B7E085B57F90E777439E9BD994631E5BC3760D4D7BE29668D7702F3E4CCF04E7852F6771B9B5396FBDDDAD237CAFDDED8FA2355E77D77E2A098DB3D986ECB4F6563E451F7A9A8729A74375D1053A13BA195A43B77C23C3AEFA0349DB9B5DACBC9CCADB5BE3C99B98DAA8B89CC9D16B22C5959605BB3043455EA725BFF73E823B3FA7169EC1CE3DE8C909442DC492A5469C2ADA55F9126DC5628C4B4E14E93145383BBDD1671E9BF9DA0E414DF6E3712CA34DE16FAAD4CEA6D8123A5F8769A9E90C6DB094B48D5ED88C5A7E30EE23DD5BCE4FC7DF7D738B9944964ED05AFF515A062DA72426A5F78035D548A89A5722A5BC9F369E92B45A39CD1E47187EE2E1B4CA7940CBD636A697D66A992A8909D5A4B914B2E5550E4EAD514F904D65A8A6916AA82565AA3A692E5B5D6E0B7C85E55D11B28C5B5949456066C6502AC9244FBF4D886D9B16AAA8A5C5B952A3748A395DF5D6706FBFDFFD9350CEC5D0111FD6F00089A11D102346B7383B638B34C74EEEC88B22692C34600F51CC1A54FEC2D3009AD8E2C597C9CFA03D003383D35B81B68DDA087907821B90C02E86E1CEE917F6654D38F7385F931CF1EBC986D7D4C810ED38E9CDF077415DA8E958F7B21EF7F651091314D37553AAA258936D7DD3E47BAC7A82150CABE6BE851B78E9A8D1574BDE89A2078404BF002DB8C8D7AC1B77007CC7DF67C5E0E52BF103CDB67D736D8F9C00D528CA23FFD4965D872DF3EFF0596C4BA1906630000 , N'6.1.3-40302')
=> use only update to __MigrationHistory

---

VS > Tools > NuGet Package Manager > Package Manager Console : Default project : ScrapyWeb
Add-Migration postFromId
Update-Database -StartUpProjectName ScrapyWeb

---

create T_FB_USER.cs (WARNING ; dot not work with model dmbs dircetly, otherwise it will change all modesl in code)
VS > Tools > NuGet Package Manager > Package Manager Console : Default project : ScrapyWeb
Add-Migration fbUser
Update-Database -StartUpProjectName ScrapyWeb