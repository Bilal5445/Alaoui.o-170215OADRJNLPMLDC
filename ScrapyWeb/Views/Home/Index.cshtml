@{
    ViewBag.Title = "Dashboard";
}
@section featured {
    <section class="featured">
        <div class="content-wrapper">
            <hgroup class="title">
                <h1>@ViewBag.Title</h1>
                <h2>@ViewBag.Message</h2>
            </hgroup>
            <p>
            </p>
        </div>
    </section>
}
@{ var tweetList = (List<ScrapyWeb.Models.TweetSet>)ViewBag.TweetSets;
    var feedList = (List<ScrapyWeb.Models.FacebookGroupFeed>)ViewBag.FeedSets;
}
<style>
    tr.header {
        cursor: pointer;
    }
    tr.header th:nth-child(3) span {
        float: right;
    }
</style>
<h1 id="twitter">Twitter</h1>
<table class="users">
    <tr class="header">
        <th class="row-1 row-ID">Group Post Id</th>
        <th class="row-2 row-ID">Updated Time</th>
        <th class="row-3 row-Tweet">Post Text<span>-</span></th>
    </tr>
    @foreach (var tweet in tweetList.Take(20))
    {
        <tr>
            <td>@tweet.ScreenName</td>
            <td>@String.Format("{0:MM/dd/yyyy HH:mm:ss}", tweet.DateCreated)</td>
            <td>@tweet.TweetText</td>
        </tr>
    }
</table>
<h1 id="facebook">Facebook</h1>
<table class="users">
    <tr class="header">
        <th class="row-1 row-ID">Group Post Id</th></th>
        <th class="row-2 row-ID">Updated Time</th>
        <th class="row-3 row-Tweet">Post Text<span>-</span></th>
    </tr>
    @foreach (var feed in feedList.Take(20))
    {
        <tr>
            <td>@feed.GroupPostId</td>
            <td>@String.Format("{0:MM/dd/yyyy HH:mm:ss}", feed.UpdatedTime)</td>
            <td>@feed.PostText</td>
        </tr>
    }
</table>
<script>
    $('.header').click(function () {
        $(this).find('span').text(function (_, value) {
            return value == '-' ? '+' : '-'
        });

        $(this).nextUntil('tr.header').slideToggle(100, function () {
        });
    })
</script>
